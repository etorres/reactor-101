# Reactive Programming 101

## Case Study 1: Favorites

Imagine for a moment that you work for a large fashion retailer company. Imagine now that this company introduces a new technology in physical stores and street advertising boards to push notifications to the smart-phones of the customers. In a first phase of the project, we will send a partial list of favorite items to the customer.

Implement a recommendation service that list the top five favorite items of a user:

```java
class RecommendationService {
    
    Flux<Product> topFiveProductsFor(String username) {
        // TO-DO
    }
    
}
```

The interface of the favorites service is as follows:

```java
@FunctionalInterface
public interface Favorites {

    Flux<ProductId> favorites(String username);

}
```

### Top five sealing products

Modify the previous case study to recommend the top five sealing items to the user, when the user has no favorite items.

The interface of the top sales service is as follows:

```java
@FunctionalInterface
interface TopSales {

    Flux<Product> topSealingProducts();

}
```

## Just in time favorites

Modify the previous case study to answer within 1 second or resend information from a previously cached list of promoted products.

The interface of the promotions cache is as follows:

```java
@FunctionalInterface
interface CachedPromotions {

    Flux<ProductId> activePromotions();

}
```

## Case Study 2: Anti-pollution traffic radar

With the aim of protecting both people and the environment from pollution generated by vehicles, the government of Barcelona has planned to progressively restrict the circulation of the most polluting vehicles within the Barcelona metropolitan area. Diesel cars made before 2006, gasoline cars made before 2000 and in general any car older than 1994 will not be allowed to circulate in low emissions zones in Barcelona.

All vehicles will be obligated to have an RFID device installed that transmits some data about the vehicle. Pollution radars will be installed to receive all information of the vehicles, like plate number, model year and fuel type.

Write a program for collecting the information about pollutant cars from the stream of data produced by the pollution radars.

```java
class PollutionRadar {
    
    ParallelFlux<Car> pollutingCars() {
        
        // TO-DO
        
    }
    
}
```

## Overwhelmed by air polluters

Not everybody is committed to reducing the carbon footprint. In fact, our anti-pollution traffic radar is often overwhelmed by the sheer volume of cars in transit. Modify the previous case study to keep the newest pollutant cars recorded when the number of cars is so high that the pollution radar cannot keep up with the flow.

## Additional output channels: errors and completion

Probably we will find good opportunities during the session for showing the differences between a successfully completed and a failed stream. Otherwise, we will create a simple example to illustrate the different output channels.
